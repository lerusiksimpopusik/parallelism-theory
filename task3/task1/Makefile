MATRIX_SIZE ?= 20000
NTHREADS ?= 1
THREAD_CONTAINER ?= 1
BUILD_DIR = build

$(BUILD_DIR)/task1: task1.cpp FORCE
	mkdir -p $(BUILD_DIR)
	g++ -std=c++20 -DTHREAD_CONTAINER=$(THREAD_CONTAINER) -DMATRIX_SIZE=$(MATRIX_SIZE) -DNTHREADS=$(NTHREADS) -o $@ $<

FORCE:


#запускать:
# make build/task1 MATRIX_SIZE=n NTHREADS = y THREAD_CONTAINER = h